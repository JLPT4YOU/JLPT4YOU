@import "tailwindcss";

:root {
  --radius: 0.75rem;

  /* ===== PROFESSIONAL UNIFIED COLOR SYSTEM 2025 ===== */
  /* GitHub/Discord-inspired monochromatic excellence */
  /* Consistent hierarchy, perfect contrast, professional appearance */

  /* === LIGHT MODE - GitHub-inspired Professional === */

  /* Core Backgrounds - Pure white with warm undertones */
  --background: oklch(1 0 0);                    /* Pure white #ffffff */
  --foreground: oklch(0.15 0.005 240);           /* Dark charcoal #24292f */

  /* Surface Hierarchy - 5 distinct levels */
  --card: oklch(0.98 0.002 240);                 /* Card surface #fafbfc */
  --card-foreground: oklch(0.15 0.005 240);      /* Card text #24292f */
  --popover: oklch(1 0 0);                       /* Popover surface #ffffff */
  --popover-foreground: oklch(0.15 0.005 240);   /* Popover text #24292f */

  /* Interactive Elements - Consistent with foreground */
  --primary: oklch(0.15 0.005 240);              /* Primary #24292f */
  --primary-foreground: oklch(1 0 0);            /* Primary text #ffffff */

  /* Secondary Surfaces - Subtle differentiation */
  --secondary: oklch(0.96 0.002 240);            /* Secondary #f6f8fa */
  --secondary-foreground: oklch(0.15 0.005 240); /* Secondary text #24292f */

  /* Muted Elements - Perfect hierarchy */
  --muted: oklch(0.96 0.002 240);                /* Muted background #f6f8fa */
  --muted-foreground: oklch(0.45 0.005 240);     /* Muted text #656d76 */

  /* Accent - Same as primary for consistency */
  --accent: oklch(0.96 0.002 240);               /* Accent background #f6f8fa */
  --accent-foreground: oklch(0.15 0.005 240);    /* Accent text #24292f */

  /* Destructive - Professional red */
  --destructive: oklch(0.55 0.22 15);            /* Error red #d1242f */
  --destructive-foreground: oklch(1 0 0);        /* Error text #ffffff */

  /* Borders & Inputs - Clean definition */
  --border: oklch(0.92 0.005 240);               /* Border #d0d7de */
  --input: oklch(0.98 0.002 240);                /* Input background #fafbfc */
  --ring: oklch(0.15 0.005 240);                 /* Focus ring #24292f */
  
  /* Chart Colors - Modern grayscale progression */
  --chart-1: oklch(0.25 0 0);                   /* Dark gray */
  --chart-2: oklch(0.40 0 0);                   /* Medium-dark gray */
  --chart-3: oklch(0.55 0 0);                   /* Medium gray */
  --chart-4: oklch(0.70 0 0);                   /* Light-medium gray */
  --chart-5: oklch(0.85 0 0);                   /* Light gray */

  /* Chat Sidebar Colors - Comfortable sidebar */
  --sidebar: oklch(0.96 0.002 60);              /* Warm light gray sidebar */
  --sidebar-foreground: oklch(0.15 0.003 60);   /* Soft dark text */
  --sidebar-primary: oklch(0.20 0.003 60);      /* Soft dark gray primary */
  --sidebar-primary-foreground: oklch(0.98 0.002 60); /* Warm off-white text */
  --sidebar-accent: oklch(0.90 0.002 60);       /* Gentle accent */
  --sidebar-accent-foreground: oklch(0.15 0.003 60); /* Soft dark text */
  --sidebar-border: oklch(0.85 0.002 60);       /* Softer borders */
  --sidebar-ring: oklch(0.25 0.003 60);         /* Gentle focus rings */

  /* Chat-specific Colors - Professional chat styling */
  --chat-user-bg: oklch(0.25 0 0);              /* Dark charcoal user messages */
  --chat-user-text: oklch(1 0 0);               /* Pure white text */
  --chat-assistant-bg: oklch(0.97 0.005 100);   /* Light gray AI messages */
  --chat-assistant-text: oklch(0.25 0 0);       /* Dark charcoal text */
  --chat-input-bg: oklch(0.97 0.005 100);       /* Light gray input background #f7f7f7 */
  --chat-input-border: oklch(0.90 0.003 85);    /* Light border */
  --chat-input-focus: oklch(0.25 0 0);          /* Dark charcoal focus state */

  /* Sidebar Colors - Light gray for better visual separation */
  --sidebar: oklch(0.97 0.005 100);             /* Light gray sidebar background (#f7f7f7) */
  --sidebar-border: oklch(0.90 0.003 85);       /* Light border for sidebar */
  --sidebar-foreground: oklch(0.25 0 0);        /* Dark text on light sidebar */

  /* Chat Font Size - Customizable */
  --chat-font-size: 16px;                       /* Default medium font size */

  /* JLPT4YOU Font Weight System - Noto Sans Japanese */
  /* Optimized for Vietnamese, Japanese, and English content */
  --font-weight-light: 300;                     /* Text phụ/muted text */
  --font-weight-normal: 400;                    /* Nội dung chính/body text */
  --font-weight-medium: 500;                    /* Button text, Navigation items */
  --font-weight-semibold: 600;                  /* Tiêu đề phụ (h3, h4) */
  --font-weight-bold: 700;                      /* Tiêu đề chính (h1, h2) */

  /* Code Block Colors - Light theme */
  --code-block-bg: #f9f9f9;                     /* Light background for code blocks */
  --code-block-border: rgba(0, 0, 0, 0.1);      /* Subtle dark border */
  --code-block-radius: 0.75rem;                 /* Rounded corners for code blocks */

  /* JLPT Level Colors - Grayscale Progression */
  --jlpt-n5: oklch(0.8 0 0);         /* Light Gray - Beginner */
  --jlpt-n5-foreground: oklch(0.11 0 0);
  --jlpt-n4: oklch(0.65 0 0);        /* Medium Gray - Elementary */
  --jlpt-n4-foreground: oklch(0.99 0 0);
  --jlpt-n3: oklch(0.5 0 0);         /* Mid Gray - Intermediate */
  --jlpt-n3-foreground: oklch(0.99 0 0);
  --jlpt-n2: oklch(0.35 0 0);        /* Dark Gray - Upper Intermediate */
  --jlpt-n2-foreground: oklch(0.99 0 0);
  --jlpt-n1: oklch(0.2 0 0);         /* Darker Gray - Advanced */
  --jlpt-n1-foreground: oklch(0.99 0 0);

  /* Status Colors - Minimal Red/Green */
  --success: oklch(0.4 0.15 140);
  --success-foreground: oklch(0.99 0 0);
  --warning: oklch(0.6 0.2 70);
  --warning-foreground: oklch(0.99 0 0);
  --info: oklch(0.4 0 0);
  --info-foreground: oklch(0.99 0 0);

  /* Global Spacing System */
  --spacing-xs: 0.5rem;      /* 8px */
  --spacing-sm: 0.75rem;     /* 12px */
  --spacing-md: 1rem;        /* 16px */
  --spacing-lg: 1.5rem;      /* 24px */
  --spacing-xl: 2rem;        /* 32px */
  --spacing-2xl: 3rem;       /* 48px */
  --spacing-3xl: 4rem;       /* 64px */
}

.dark {
  /* === DARK MODE - GitHub/Discord-inspired Professional === */
  /* Warm dark charcoal, perfect contrast, reduced eye strain */

  /* Core Backgrounds - Dark charcoal with warm undertones */
  --background: oklch(0.08 0.005 240);           /* Dark charcoal #0d1117 */
  --foreground: oklch(0.94 0.002 240);           /* Light text #f0f6fc */

  /* Surface Hierarchy - 5 distinct levels */
  --card: oklch(0.11 0.005 240);                 /* Card surface #161b22 */
  --card-foreground: oklch(0.94 0.002 240);      /* Card text #f0f6fc */
  --popover: oklch(0.11 0.005 240);              /* Popover surface #161b22 */
  --popover-foreground: oklch(0.94 0.002 240);   /* Popover text #f0f6fc */

  /* Interactive Elements - Consistent with foreground */
  --primary: oklch(0.94 0.002 240);              /* Primary #f0f6fc */
  --primary-foreground: oklch(0.08 0.005 240);   /* Primary text #0d1117 */

  /* Secondary Surfaces - Subtle differentiation */
  --secondary: oklch(0.13 0.005 240);            /* Secondary #21262d */
  --secondary-foreground: oklch(0.94 0.002 240); /* Secondary text #f0f6fc */

  /* Muted Elements - Perfect hierarchy */
  --muted: oklch(0.13 0.005 240);                /* Muted background #21262d */
  --muted-foreground: oklch(0.65 0.005 240);     /* Muted text #8b949e */

  /* Accent - Same as muted for consistency */
  --accent: oklch(0.13 0.005 240);               /* Accent background #21262d */
  --accent-foreground: oklch(0.94 0.002 240);    /* Accent text #f0f6fc */

  /* Destructive - Professional red for dark mode */
  --destructive: oklch(0.55 0.15 15);            /* Error red #da3633 */
  --destructive-foreground: oklch(0.94 0.002 240); /* Error text #f0f6fc */

  /* Borders & Inputs - Clear definition */
  --border: oklch(0.18 0.005 240);               /* Border #30363d */
  --input: oklch(0.11 0.005 240);                /* Input background #161b22 */
  --ring: oklch(0.94 0.002 240);                 /* Focus ring #f0f6fc */
  
  /* Chart Colors - Comfortable grayscale progression */
  --chart-1: oklch(0.75 0.003 240);          /* Lighter, warmer grays */
  --chart-2: oklch(0.62 0.003 240);
  --chart-3: oklch(0.48 0.003 240);
  --chart-4: oklch(0.35 0.003 240);
  --chart-5: oklch(0.28 0.005 240);

  /* Sidebar Colors - Consistent with main theme */
  --sidebar: oklch(0.14 0.005 240);           /* Slightly different from background */
  --sidebar-foreground: oklch(0.88 0.003 240);
  --sidebar-primary: oklch(0.85 0.003 240);
  --sidebar-primary-foreground: oklch(0.12 0.005 240);
  --sidebar-accent: oklch(0.22 0.005 240);
  --sidebar-accent-foreground: oklch(0.85 0.003 240);
  --sidebar-border: oklch(0.25 0.005 240);
  --sidebar-ring: oklch(0.85 0.003 240);

  /* Chat-specific Colors - Professional dark chat styling */
  --chat-user-bg: oklch(0.88 0.002 90);       /* Light gray for user messages */
  --chat-user-text: oklch(0.12 0 0);          /* Dark text on light background */
  --chat-assistant-bg: oklch(0.18 0.005 240); /* Slightly lighter than background for AI */
  --chat-assistant-text: oklch(0.88 0.002 90); /* Light gray text */
  --chat-input-bg: oklch(0.18 0.005 240);     /* Input background */
  --chat-input-border: oklch(0.28 0.004 240); /* Clear border */
  --chat-input-focus: oklch(0.88 0.002 90);   /* Light gray focus state */

  /* Sidebar Colors - Keep dark theme unchanged */
  --sidebar: oklch(0.15 0.005 240);           /* Dark sidebar background */
  --sidebar-border: oklch(0.28 0.004 240);    /* Dark border for sidebar */
  --sidebar-foreground: oklch(0.88 0.002 90); /* Light text on dark sidebar */

  /* Chat Font Size - Inherited from light mode */
  /* --chat-font-size: 16px; (inherited) */

  /* Code Block Colors - Dark theme */
  --code-block-bg: #212121;                      /* Dark background for code blocks */
  --code-block-border: rgba(255, 255, 255, 0.1); /* Subtle white border */
  --code-block-radius: 0.75rem;                  /* Rounded corners for code blocks */

  /* JLPT Level Colors - Comfortable progression with warmth */
  --jlpt-n5: oklch(0.58 0.003 240);          /* Softer, warmer grays */
  --jlpt-n5-foreground: oklch(0.12 0.005 240);
  --jlpt-n4: oklch(0.48 0.003 240);
  --jlpt-n4-foreground: oklch(0.12 0.005 240);
  --jlpt-n3: oklch(0.38 0.003 240);
  --jlpt-n3-foreground: oklch(0.88 0.003 240);
  --jlpt-n2: oklch(0.32 0.003 240);
  --jlpt-n2-foreground: oklch(0.88 0.003 240);
  --jlpt-n1: oklch(0.28 0.005 240);
  --jlpt-n1-foreground: oklch(0.88 0.003 240);

  /* Status Colors - Softer, eye-friendly versions */
  --success: oklch(0.48 0.08 140);            /* Less saturated green */
  --success-foreground: oklch(0.88 0.003 240);
  --warning: oklch(0.62 0.12 70);             /* Softer yellow-orange */
  --warning-foreground: oklch(0.12 0.005 240);
  --info: oklch(0.58 0.003 240);              /* Neutral info color */
  --info-foreground: oklch(0.12 0.005 240);
}

/* Modern AI Chat Animations - 2024 Trends */
@keyframes countUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Chat-specific animations */
@keyframes messageSlideIn {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}



@keyframes shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

@keyframes pulse-soft {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

.animate-count-up {
  animation: countUp 0.6s ease-out;
}

.animate-slide-in-up {
  animation: slideInUp 0.8s ease-out;
}

.animate-fade-in {
  animation: fadeIn 1s ease-out;
}

/* Modern Chat Animation Classes */
.animate-message-in {
  animation: messageSlideIn 0.3s ease-out;
}

/* Markdown Content Styling */
.markdown-content {
  /* Ensure proper spacing and typography */
  line-height: 1.6;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Fix list item rendering to prevent unnecessary line breaks */
.markdown-content ol li,
.markdown-content ul li {
  display: list-item;
  margin: 0;
  padding: 0;
}

.markdown-content ol li > *:first-child,
.markdown-content ul li > *:first-child {
  display: inline;
  margin: 0;
}

/* Ensure list markers stay with content */
.markdown-content ol,
.markdown-content ul {
  padding-left: 1.5rem;
}

.markdown-content ol li::marker,
.markdown-content ul li::marker {
  font-weight: normal;
}

/* Text formatting - ensure proper styling */
.markdown-content em {
  font-style: italic;
}

.markdown-content strong {
  font-weight: bold;
}

.markdown-content strong em,
.markdown-content em strong {
  font-weight: bold;
  font-style: italic;
}

/* Scroll to bottom button styling - Matches input chat background */
.scroll-to-bottom-button {
  border-radius: 50%;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(12px);
  /* Use same background as chat input for consistency */
  background: var(--chat-input-bg);
  border: 1px solid var(--chat-input-border);
  color: var(--foreground);
  transition: all 0.2s ease-in-out;
  animation: fadeInUp 0.3s ease-out;
  /* Ensure button stays above content */
  position: relative;
  z-index: 20;
}

.scroll-to-bottom-button:hover {
  /* Slightly darker/lighter on hover while maintaining input theme */
  background: var(--chat-input-bg);
  border-color: var(--chat-input-focus);
  transform: translateY(-2px);
  box-shadow: 0 8px 25px -8px rgba(0, 0, 0, 0.25);
  /* Add subtle brightness change on hover */
  filter: brightness(0.95);
}

.scroll-to-bottom-button:active {
  transform: translateY(-1px);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
  filter: brightness(0.9);
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.markdown-content > *:first-child {
  margin-top: 0 !important;
}

.markdown-content > *:last-child {
  margin-bottom: 0 !important;
}

/* Code block improvements - Updated for Shiki */
.markdown-content pre {
  position: relative;
  overflow-x: auto;
  border-radius: 0.5rem;
  /* Border is now handled by Shiki wrapper component */
  border: none !important;
}

/* Force remove any borders from Shiki generated elements */
.markdown-content pre > div {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Ensure Shiki container has no extra borders */
.markdown-content [class*="language-"] {
  border: none !important;
}

/* Additional override for any code elements */
.markdown-content code {
  border: none !important;
}

.markdown-content pre::-webkit-scrollbar {
  height: 8px;
}

.markdown-content pre::-webkit-scrollbar-track {
  background: transparent;
}

.markdown-content pre::-webkit-scrollbar-thumb {
  background: var(--muted-foreground);
  border-radius: 4px;
}

.markdown-content pre::-webkit-scrollbar-thumb:hover {
  background: var(--foreground);
}

/* Table responsive improvements */
.markdown-content table {
  border-collapse: collapse;
  width: 100%;
  font-size: calc(var(--chat-font-size, 16px) * 0.9);
}

.markdown-content table th,
.markdown-content table td {
  text-align: left;
  vertical-align: top;
}

/* List improvements */
.markdown-content ul,
.markdown-content ol {
  padding-left: 1.5rem;
}

.markdown-content li {
  margin: 0.25rem 0;
}

.markdown-content li > ul,
.markdown-content li > ol {
  margin: 0.25rem 0;
}

/* Link hover effects */
.markdown-content a:hover {
  text-decoration: underline;
}

/* Blockquote improvements */
.markdown-content blockquote {
  font-style: italic;
  position: relative;
}

.markdown-content blockquote::before {
  content: '"';
  position: absolute;
  left: -0.5rem;
  top: -0.25rem;
  font-size: 1.5em;
  color: var(--primary);
  opacity: 0.5;
}

/* Mobile responsive adjustments */
@media (max-width: 640px) {
  .markdown-content {
    font-size: calc(var(--chat-font-size, 16px) * 0.9);
  }

  .markdown-content h1 {
    font-size: 1.5rem;
  }

  .markdown-content h2 {
    font-size: 1.25rem;
  }

  .markdown-content h3 {
    font-size: 1.125rem;
  }

  .markdown-content table {
    font-size: calc(var(--chat-font-size, 16px) * 0.8);
  }

  .markdown-content pre {
    font-size: calc(var(--chat-font-size, 16px) * 0.75);
  }
}



.animate-shimmer {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  background-size: 200px 100%;
  animation: shimmer 1.5s infinite;
}

.animate-pulse-soft {
  animation: pulse-soft 2s infinite;
}

/* Staggered animations */
.animate-stagger-1 {
  animation-delay: 0.1s;
}

.animate-stagger-2 {
  animation-delay: 0.2s;
}

.animate-stagger-3 {
  animation-delay: 0.3s;
}

.animate-stagger-4 {
  animation-delay: 0.4s;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
  --font-sans: var(--font-noto-sans-jp);
  --font-mono: ui-monospace, SFMono-Regular, "SF Mono", Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --radius: var(--radius);

  /* JLPT Level Colors */
  --color-jlpt-n5: var(--jlpt-n5);
  --color-jlpt-n5-foreground: var(--jlpt-n5-foreground);
  --color-jlpt-n4: var(--jlpt-n4);
  --color-jlpt-n4-foreground: var(--jlpt-n4-foreground);
  --color-jlpt-n3: var(--jlpt-n3);
  --color-jlpt-n3-foreground: var(--jlpt-n3-foreground);
  --color-jlpt-n2: var(--jlpt-n2);
  --color-jlpt-n2-foreground: var(--jlpt-n2-foreground);
  --color-jlpt-n1: var(--jlpt-n1);
  --color-jlpt-n1-foreground: var(--jlpt-n1-foreground);

  /* Status Colors */
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);

  /* Spacing System */
  --color-spacing-xs: var(--spacing-xs);
  --color-spacing-sm: var(--spacing-sm);
  --color-spacing-md: var(--spacing-md);
  --color-spacing-lg: var(--spacing-lg);
  --color-spacing-xl: var(--spacing-xl);
  --color-spacing-2xl: var(--spacing-2xl);
  --color-spacing-3xl: var(--spacing-3xl);
}

/* ===== PROFESSIONAL HOVER EFFECTS SYSTEM ===== */
/* GitHub/Discord-inspired hover effects - subtle, professional, consistent */

/* === CORE HOVER PRINCIPLES === */
/* 1. Subtle brightness changes (5-10% max) */
/* 2. No gray transitions - use existing color hierarchy */
/* 3. Consistent timing and easing */
/* 4. Maintain perfect contrast ratios */

/* Base Professional Hover - Universal subtle effect */
.hover-professional {
  transition: background-color 0.15s ease-out;
}

.hover-professional:hover {
  background-color: color-mix(in oklch, var(--muted) 95%, var(--foreground) 5%);
}

/* Primary Button Hover - Subtle darkening */
.hover-primary {
  transition: background-color 0.15s ease-out;
}

.hover-primary:hover {
  background-color: color-mix(in oklch, var(--primary) 92%, transparent 8%);
}

/* Secondary Surface Hover - Move up hierarchy */
.hover-secondary {
  transition: background-color 0.15s ease-out;
}

.hover-secondary:hover {
  background-color: var(--muted);
}

/* Muted Surface Hover - Subtle lift */
.hover-muted {
  transition: background-color 0.15s ease-out;
}

.hover-muted:hover {
  background-color: color-mix(in oklch, var(--muted) 95%, var(--foreground) 5%);
}

/* Ghost Button Hover - Gentle background appearance */
.hover-ghost {
  transition: background-color 0.15s ease-out;
}

.hover-ghost:hover {
  background-color: var(--muted);
}

/* Interactive Element Hover - For dropdowns, menus */
.hover-interactive {
  transition: background-color 0.15s ease-out;
}

.hover-interactive:hover {
  background-color: var(--muted);
}

/* Destructive Button Hover - Subtle darkening */
.hover-destructive {
  transition: background-color 0.15s ease-out;
}

.hover-destructive:hover {
  background-color: color-mix(in oklch, var(--destructive) 92%, transparent 8%);
}

/* === CARD HOVER EFFECTS === */

/* Basic Card Hover - Subtle background lift */
.hover-card {
  transition: all 0.15s ease-out;
}

.hover-card:hover {
  background-color: color-mix(in oklch, var(--card) 97%, var(--foreground) 3%);
  box-shadow: 0 2px 8px color-mix(in oklch, var(--foreground) 8%, transparent 92%);
}

/* Card with Scale - For emphasis */
.hover-card-scale {
  transition: all 0.15s ease-out;
}

.hover-card-scale:hover {
  background-color: color-mix(in oklch, var(--card) 97%, var(--foreground) 3%);
  transform: scale(1.01);
  box-shadow: 0 4px 12px color-mix(in oklch, var(--foreground) 8%, transparent 92%);
}

/* === UTILITY HOVER EFFECTS === */

/* Scale Only - For icons or small elements */
.hover-scale {
  transition: transform 0.15s ease-out;
}

.hover-scale:hover {
  transform: scale(1.05);
}

/* Opacity - For simple fade effects */
.hover-opacity {
  transition: opacity 0.15s ease-out;
}

.hover-opacity:hover {
  opacity: 0.8;
}

/* === FOCUS STATES === */

/* Professional Focus Ring */
.focus-ring {
  transition: all 0.15s ease-out;
}

.focus-ring:focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
}

/* === LEGACY COMPATIBILITY === */
/* Map old classes to new professional system */

.hover-brightness-light {
  transition: background-color 0.15s ease-out;
}

.hover-brightness-light:hover {
  background-color: var(--muted);
}

.hover-brightness-medium {
  transition: background-color 0.15s ease-out;
}

.hover-brightness-medium:hover {
  background-color: color-mix(in oklch, var(--muted) 95%, var(--foreground) 5%);
}

.hover-brightness-strong {
  transition: background-color 0.15s ease-out;
}

.hover-brightness-strong:hover {
  background-color: color-mix(in oklch, var(--muted) 90%, var(--foreground) 10%);
}

* {
  border-color: var(--border);
}

body {
  background-color: var(--background);
  color: var(--foreground);
}

/*
=== JLPT4YOU Unified Layout & Spacing System ===

Consistent padding/margin/spacing system for the entire application.
Based on a 8px grid system for perfect alignment and visual harmony.

CORE LAYOUT CLASSES:
*/

/*
=== JLPT4YOU Font Weight System ===

Semantic font weight classes using Noto Sans Japanese
Optimized for Vietnamese, Japanese, and English content
*/

/* Semantic Font Weight Classes */
.font-weight-light {
  font-weight: var(--font-weight-light); /* 300 - Text phụ/muted */
}

.font-weight-normal {
  font-weight: var(--font-weight-normal); /* 400 - Body text */
}

.font-weight-medium {
  font-weight: var(--font-weight-medium); /* 500 - Buttons/Nav */
}

.font-weight-semibold {
  font-weight: var(--font-weight-semibold); /* 600 - Tiêu đề phụ */
}

.font-weight-bold {
  font-weight: var(--font-weight-bold); /* 700 - Tiêu đề chính */
}

/* Typography Hierarchy Classes */
.heading-primary {
  font-weight: var(--font-weight-bold);
  line-height: 1.2;
}

.heading-secondary {
  font-weight: var(--font-weight-semibold);
  line-height: 1.3;
}

.body-text {
  font-weight: var(--font-weight-normal);
  line-height: 1.6;
}

.text-muted {
  font-weight: var(--font-weight-light);
  line-height: 1.5;
}

.interactive-text {
  font-weight: var(--font-weight-medium);
  line-height: 1.4;
}

/* 1. Container System - Horizontal Padding */
.app-container {
  @apply w-full;
  padding-left: var(--spacing-md);   /* 16px mobile */
  padding-right: var(--spacing-md);
}

@media (min-width: 640px) {
  .app-container {
    padding-left: var(--spacing-lg);  /* 24px tablet */
    padding-right: var(--spacing-lg);
  }
}

@media (min-width: 1024px) {
  .app-container {
    padding-left: var(--spacing-xl);  /* 32px desktop */
    padding-right: var(--spacing-xl);
  }
}

/* 2. Section System - Vertical Spacing */
.app-section {
  padding-top: var(--spacing-lg);     /* 24px mobile */
  padding-bottom: var(--spacing-lg);
}

@media (min-width: 640px) {
  .app-section {
    padding-top: var(--spacing-xl);   /* 32px tablet+ */
    padding-bottom: var(--spacing-xl);
  }
}

/* 3. Content Width System */
.app-content {
  @apply max-w-6xl mx-auto;
}

/* 4. Component Spacing Classes */
.app-gap-xs { gap: var(--spacing-xs); }
.app-gap-sm { gap: var(--spacing-sm); }
.app-gap-md { gap: var(--spacing-md); }
.app-gap-lg { gap: var(--spacing-lg); }
.app-gap-xl { gap: var(--spacing-xl); }

.app-space-xs > * + * { margin-top: var(--spacing-xs); }
.app-space-sm > * + * { margin-top: var(--spacing-sm); }
.app-space-md > * + * { margin-top: var(--spacing-md); }
.app-space-lg > * + * { margin-top: var(--spacing-lg); }
.app-space-xl > * + * { margin-top: var(--spacing-xl); }

/* 5. Padding Utilities */
.app-p-xs { padding: var(--spacing-xs); }
.app-p-sm { padding: var(--spacing-sm); }
.app-p-md { padding: var(--spacing-md); }
.app-p-lg { padding: var(--spacing-lg); }
.app-p-xl { padding: var(--spacing-xl); }

.app-px-xs { padding-left: var(--spacing-xs); padding-right: var(--spacing-xs); }
.app-px-sm { padding-left: var(--spacing-sm); padding-right: var(--spacing-sm); }
.app-px-md { padding-left: var(--spacing-md); padding-right: var(--spacing-md); }
.app-px-lg { padding-left: var(--spacing-lg); padding-right: var(--spacing-lg); }
.app-px-xl { padding-left: var(--spacing-xl); padding-right: var(--spacing-xl); }

.app-py-xs { padding-top: var(--spacing-xs); padding-bottom: var(--spacing-xs); }
.app-py-sm { padding-top: var(--spacing-sm); padding-bottom: var(--spacing-sm); }
.app-py-md { padding-top: var(--spacing-md); padding-bottom: var(--spacing-md); }
.app-py-lg { padding-top: var(--spacing-lg); padding-bottom: var(--spacing-lg); }
.app-py-xl { padding-top: var(--spacing-xl); padding-bottom: var(--spacing-xl); }

/* 6. Margin Utilities */
.app-m-xs { margin: var(--spacing-xs); }
.app-m-sm { margin: var(--spacing-sm); }
.app-m-md { margin: var(--spacing-md); }
.app-m-lg { margin: var(--spacing-lg); }
.app-m-xl { margin: var(--spacing-xl); }

.app-mx-xs { margin-left: var(--spacing-xs); margin-right: var(--spacing-xs); }
.app-mx-sm { margin-left: var(--spacing-sm); margin-right: var(--spacing-sm); }
.app-mx-md { margin-left: var(--spacing-md); margin-right: var(--spacing-md); }
.app-mx-lg { margin-left: var(--spacing-lg); margin-right: var(--spacing-lg); }
.app-mx-xl { margin-left: var(--spacing-xl); margin-right: var(--spacing-xl); }

.app-my-xs { margin-top: var(--spacing-xs); margin-bottom: var(--spacing-xs); }
.app-my-sm { margin-top: var(--spacing-sm); margin-bottom: var(--spacing-sm); }
.app-my-md { margin-top: var(--spacing-md); margin-bottom: var(--spacing-md); }
.app-my-lg { margin-top: var(--spacing-lg); margin-bottom: var(--spacing-lg); }
.app-my-xl { margin-top: var(--spacing-xl); margin-bottom: var(--spacing-xl); }

/* 7. Individual Margin Utilities */
.app-mt-xs { margin-top: var(--spacing-xs); }
.app-mt-sm { margin-top: var(--spacing-sm); }
.app-mt-md { margin-top: var(--spacing-md); }
.app-mt-lg { margin-top: var(--spacing-lg); }
.app-mt-xl { margin-top: var(--spacing-xl); }

.app-mb-xs { margin-bottom: var(--spacing-xs); }
.app-mb-sm { margin-bottom: var(--spacing-sm); }
.app-mb-md { margin-bottom: var(--spacing-md); }
.app-mb-lg { margin-bottom: var(--spacing-lg); }
.app-mb-xl { margin-bottom: var(--spacing-xl); }

.app-ml-xs { margin-left: var(--spacing-xs); }
.app-ml-sm { margin-left: var(--spacing-sm); }
.app-ml-md { margin-left: var(--spacing-md); }
.app-ml-lg { margin-left: var(--spacing-lg); }
.app-ml-xl { margin-left: var(--spacing-xl); }

.app-mr-xs { margin-right: var(--spacing-xs); }
.app-mr-sm { margin-right: var(--spacing-sm); }
.app-mr-md { margin-right: var(--spacing-md); }
.app-mr-lg { margin-right: var(--spacing-lg); }
.app-mr-xl { margin-right: var(--spacing-xl); }

/*
=== USAGE EXAMPLES ===

Standard page layout:
<div className="app-container app-section">
  <div className="app-content">
    <!-- Your content here -->
  </div>
</div>

Header layout:
<header className="app-container app-py-md">
  <!-- Header content -->
</header>

Component spacing:
<div className="app-space-md">
  <div>Item 1</div>
  <div>Item 2</div>
  <div>Item 3</div>
</div>

Grid with consistent gaps:
<div className="grid grid-cols-3 app-gap-lg">
  <!-- Grid items -->
</div>
*/

/* Custom Scrollbar Styles for Exam Interface */
.scrollbar-thin {
  scrollbar-width: thin;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: hsl(var(--muted-foreground) / 0.2);
  border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background-color: hsl(var(--muted-foreground) / 0.4);
}

.scrollbar-track-transparent::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thumb-muted-foreground\/20::-webkit-scrollbar-thumb {
  background-color: hsl(var(--muted-foreground) / 0.2);
}

/* Enhanced Scrollbar for Chat Sidebar */
.scrollbar-thumb-muted::-webkit-scrollbar-thumb {
  background-color: hsl(var(--muted) / 0.6);
  border-radius: 3px;
  transition: background-color 0.2s ease;
}

.scrollbar-thumb-muted:hover::-webkit-scrollbar-thumb {
  background-color: hsl(var(--muted-foreground) / 0.4);
}

.scrollbar-track-transparent::-webkit-scrollbar-track {
  background: transparent;
}

/* Exam Interface Pause Overlay Animations */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animate-in {
  animation-fill-mode: both;
}

.fade-in {
  animation-name: fade-in;
}

.fade-out {
  animation-name: fade-out;
}

.duration-300 {
  animation-duration: 300ms;
}

/* Shiki Code Block Styles - Min Theme Support */
.shiki-code-block {
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.shiki-code-block pre {
  margin: 0 !important;
  padding: 0 !important;
  background: transparent !important;
  border: none !important;
  overflow-x: auto;
}

.shiki-code-block code {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  background: transparent !important;
}

/* Ensure Shiki themes work properly with our container styling */
.shiki-code-block .shiki {
  background: transparent !important;
}
